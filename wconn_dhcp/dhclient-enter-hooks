#!/bin/sh

make_resolv_conf() {
  if [ x"$PEER_DNS" != x ] && [ x"$PEER_DNS" != xyes ]; then
    return 0
  fi
  local conf=
  if [ x"$new_domain_name_servers" != x ]; then
    for nameserver in $new_domain_name_servers; do
      conf="${conf}nameserver ${nameserver}\n"
    done
  if [ x"$conf" != x ]; then
    conf="# Generated by dhclient or interface $interface\n${conf}"
    printf "${conf}" > %%RESOLV_CONF%%
    chmod 644 %%RESOLV_CONF%%
  fi
}
